{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/home/narensairam/Desktop/react-native/fixtures/node_modules/react-navigation/src/navigators/createNavigator.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport getChildEventSubscriber from \"../getChildEventSubscriber\";\n\nfunction createNavigator(NavigatorView, router, navigationConfig) {\n  var Navigator = function (_React$Component) {\n    _inherits(Navigator, _React$Component);\n\n    var _super = _createSuper(Navigator);\n\n    function Navigator() {\n      var _this;\n\n      _classCallCheck(this, Navigator);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n      _this.childEventSubscribers = {};\n\n      _this._isRouteFocused = function (route) {\n        var state = _this.props.navigation.state;\n        var focusedRoute = state.routes[state.index];\n        return route === focusedRoute;\n      };\n\n      _this._dangerouslyGetParent = function () {\n        return _this.props.navigation;\n      };\n\n      return _this;\n    }\n\n    _createClass(Navigator, [{\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        var _this2 = this;\n\n        var activeKeys = this.props.navigation.state.routes.map(function (r) {\n          return r.key;\n        });\n        Object.keys(this.childEventSubscribers).forEach(function (key) {\n          if (!activeKeys.includes(key)) {\n            delete _this2.childEventSubscribers[key];\n          }\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.childEventSubscribers = {};\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var _this$props = this.props,\n            navigation = _this$props.navigation,\n            screenProps = _this$props.screenProps;\n        var dispatch = navigation.dispatch,\n            state = navigation.state,\n            addListener = navigation.addListener;\n        var routes = state.routes;\n        var descriptors = {};\n        routes.forEach(function (route) {\n          var getComponent = function getComponent() {\n            return router.getComponentForRouteName(route.routeName);\n          };\n\n          if (!_this3.childEventSubscribers[route.key]) {\n            _this3.childEventSubscribers[route.key] = getChildEventSubscriber(addListener, route.key);\n          }\n\n          var actionCreators = _objectSpread({}, navigation.actions, {}, router.getActionCreators(route, state.key));\n\n          var actionHelpers = {};\n          Object.keys(actionCreators).forEach(function (actionName) {\n            actionHelpers[actionName] = function () {\n              var actionCreator = actionCreators[actionName];\n              var action = actionCreator.apply(void 0, arguments);\n              dispatch(action);\n            };\n          });\n\n          var childNavigation = _objectSpread({}, actionHelpers, {\n            actions: actionCreators,\n            dispatch: dispatch,\n            state: route,\n            isFocused: function isFocused() {\n              return _this3._isRouteFocused(route);\n            },\n            dangerouslyGetParent: _this3._dangerouslyGetParent,\n            addListener: _this3.childEventSubscribers[route.key].addListener,\n            getParam: function getParam(paramName, defaultValue) {\n              var params = route.params;\n\n              if (params && paramName in params) {\n                return params[paramName];\n              }\n\n              return defaultValue;\n            }\n          });\n\n          var options = router.getScreenOptions(childNavigation, screenProps);\n          descriptors[route.key] = {\n            key: route.key,\n            getComponent: getComponent,\n            options: options,\n            state: route,\n            navigation: childNavigation\n          };\n        });\n        return React.createElement(NavigatorView, _extends({}, this.props, {\n          screenProps: screenProps,\n          navigation: navigation,\n          navigationConfig: navigationConfig,\n          descriptors: descriptors,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 9\n          }\n        }));\n      }\n    }]);\n\n    return Navigator;\n  }(React.Component);\n\n  Navigator.router = router;\n  Navigator.navigationOptions = null;\n  return Navigator;\n}\n\nexport default createNavigator;","map":{"version":3,"sources":["/home/narensairam/Desktop/react-native/fixtures/node_modules/react-navigation/src/navigators/createNavigator.js"],"names":["React","getChildEventSubscriber","createNavigator","NavigatorView","router","navigationConfig","Navigator","childEventSubscribers","_isRouteFocused","route","state","props","navigation","focusedRoute","routes","index","_dangerouslyGetParent","activeKeys","map","r","key","Object","keys","forEach","includes","screenProps","dispatch","addListener","descriptors","getComponent","getComponentForRouteName","routeName","actionCreators","actions","getActionCreators","actionHelpers","actionName","actionCreator","action","childNavigation","isFocused","dangerouslyGetParent","getParam","paramName","defaultValue","params","options","getScreenOptions","Component","navigationOptions"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport getChildEventSubscriber from '../getChildEventSubscriber';\n\nfunction createNavigator(NavigatorView, router, navigationConfig) {\n  class Navigator extends React.Component {\n    static router = router;\n    static navigationOptions = null;\n\n    childEventSubscribers = {};\n\n    // Cleanup subscriptions for routes that no longer exist\n    componentDidUpdate() {\n      const activeKeys = this.props.navigation.state.routes.map(r => r.key);\n      Object.keys(this.childEventSubscribers).forEach(key => {\n        if (!activeKeys.includes(key)) {\n          delete this.childEventSubscribers[key];\n        }\n      });\n    }\n\n    // Remove all subscription references\n    componentWillUnmount() {\n      this.childEventSubscribers = {};\n    }\n\n    _isRouteFocused = route => {\n      const { state } = this.props.navigation;\n      const focusedRoute = state.routes[state.index];\n      return route === focusedRoute;\n    };\n\n    _dangerouslyGetParent = () => {\n      return this.props.navigation;\n    };\n\n    render() {\n      const { navigation, screenProps } = this.props;\n      const { dispatch, state, addListener } = navigation;\n      const { routes } = state;\n\n      const descriptors = {};\n      routes.forEach(route => {\n        const getComponent = () =>\n          router.getComponentForRouteName(route.routeName);\n\n        if (!this.childEventSubscribers[route.key]) {\n          this.childEventSubscribers[route.key] = getChildEventSubscriber(\n            addListener,\n            route.key\n          );\n        }\n\n        const actionCreators = {\n          ...navigation.actions,\n          ...router.getActionCreators(route, state.key),\n        };\n        const actionHelpers = {};\n        Object.keys(actionCreators).forEach(actionName => {\n          actionHelpers[actionName] = (...args) => {\n            const actionCreator = actionCreators[actionName];\n            const action = actionCreator(...args);\n            dispatch(action);\n          };\n        });\n        const childNavigation = {\n          ...actionHelpers,\n          actions: actionCreators,\n          dispatch,\n          state: route,\n          isFocused: () => this._isRouteFocused(route),\n          dangerouslyGetParent: this._dangerouslyGetParent,\n          addListener: this.childEventSubscribers[route.key].addListener,\n          getParam: (paramName, defaultValue) => {\n            const params = route.params;\n\n            if (params && paramName in params) {\n              return params[paramName];\n            }\n\n            return defaultValue;\n          },\n        };\n\n        const options = router.getScreenOptions(childNavigation, screenProps);\n        descriptors[route.key] = {\n          key: route.key,\n          getComponent,\n          options,\n          state: route,\n          navigation: childNavigation,\n        };\n      });\n\n      return (\n        <NavigatorView\n          {...this.props}\n          screenProps={screenProps}\n          navigation={navigation}\n          navigationConfig={navigationConfig}\n          descriptors={descriptors}\n        />\n      );\n    }\n  }\n  return Navigator;\n}\n\nexport default createNavigator;\n"]},"metadata":{},"sourceType":"module"}